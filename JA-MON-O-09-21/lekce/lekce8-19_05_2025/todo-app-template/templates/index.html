<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <title>Jednoduch√Ω To-Do List</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
    <nav style="margin-bottom: 2em;">
        <a href="{{ url_for('index') }}">Dom≈Ø</a> |
        <a href="{{ url_for('history') }}">Historie</a>
    </nav>
    <h1>To-Do List</h1>
    <!-- Formul√°≈ô pro p≈ôid√°n√≠ nov√©ho √∫kolu -->
    <form method="post" class="border rounded p-3 mb-4 bg-light shadow-sm justify-content-center display-flex">
        <fieldset>
            <div class="form-row border rounded p-3 mb-4 bg-light shadow-sm ">
                <!-- Pole pro zad√°n√≠ textu √∫kolu -->
                <div class="form-group col">
                    <label for="ukol">√ökol*</label>
                    <input type="text" id="ukol" name="ukol" class="form-control" placeholder="Zadej √∫kol" required>
                </div>
                <!-- Pole pro pozn√°mku -->
                <div class="form-group col">
                    <label for="poznamka">Pozn√°mka</label>
                    <input id="poznamka" type="text" name="poznamka" class="form-control" placeholder="Poznamka">
                </div>
                <!-- Pole pro oƒçek√°van√© datum splnƒõn√≠ -->
                <div class="form-group col">
                    <label for="ocekavani">Oƒçek√°van√© splnƒõn√≠</label>
                    <input type="date" id="ocekavani" name="ocekavani" class="form-control">
                </div>
                <!-- Zde dopl≈à select s mo≈ænostmi, p≈ôedvyplnƒõn√Ω podle todo predmet -->
                <div class="form-group col">
                    <label for="predmet">P≈ôedmƒõt</label>
                    <select id="predmet" name="predmet" class="form-control">
                        <option value="">--Vyber p≈ôedmƒõt--</option>
                        <!-- P≈ôidej dal≈°√≠ mo≈ænosti: , , , -->
                        <option>Matematika</option>
                        <option>ƒåesk√Ω jazyk</option>
                        <option>Angliƒçtina</option>
                        <option>Informatika</option>
                    </select>
                </div>
            </div>
            <!-- Tlaƒç√≠tko pro p≈ôid√°n√≠ √∫kolu -->
            <div class="form-group col-auto align-self-end ">
                <button type="submit" class="btn btn-primary mt-2">P≈ôidat</button>
            </div>
            </div>
        </fieldset>
    </form>

    <div class="todo-list">
        <!-- Zde budou vyps√°ny √∫koly -->
        {% if todos %}
        <ul>
            {% for todo in todos %}
            <li class="">
                <!-- Formul√°≈ô pro oznaƒçen√≠ √∫kolu jako splnƒõn√Ω -->
                <form action="/done/{{loop.index0}}" method="post" style="display:inline;">
                    <button type="submit" class="btn-action" title="Oznaƒçit jako splnƒõn√©/nesplnƒõn√©">
                        {% if todo.done %}‚úÖ{% else %}‚¨ú{% endif %}
                    </button>
                </form>
                <span class="todo-text" style="margin-left: 0.5em;">
                    <!-- Zobraz text √∫kolu -->
                    <strong> {{todo.ukol}} </strong>
                    <!-- Pokud je pozn√°mka, zobraz ji -->
                    {% if todo.poznamka %}
                    <br><small>Pozn√°mka: {{todo.ocekavani}}</small>
                    {% endif %}
                    <!-- Pokud je oƒçek√°van√© datum splnƒõn√≠, zobraz ho -->
                    {% if todo.poznamka %}
                    <br><small>Oƒçek√°van√© splnƒõn√≠: {{ todo.ocekavani }} </small>
                    {% endif %}
                    <!-- Pokud je p≈ôedmƒõt, zobraz ho -->
                    {% if todo.predmet %}
                    <br><small>P≈ôedmƒõt: {{todo.predmet}} </small>
                    {% endif %}
                    <!-- Zobraz datum zad√°n√≠ √∫kolu -->
                    <br><small class="text-muted">Zad√°no: {{todo.created}} </small>
                </span>
                <!-- Odkaz na editaci √∫kolu -->
                <a href="/edit/{{loop.index0}}" class="btn-action" title="Upravit √∫kol">‚úèÔ∏è</a>
                <!-- Odkaz na smaz√°n√≠ √∫kolu -->
                <a href="/delete/{{loop.index0}}" class="btn-action" title="Smazat √∫kol">üóëÔ∏è</a>
            </li>
            {% endfor %}
        </ul>
        <!-- Zobraz poƒçet aktu√°ln√≠ch √∫kol≈Ø -->
        <p>Poƒçet √∫kol≈Ø: {{count}} </p>
        {% else %}
        <!-- Pokud nejsou ≈æ√°dn√© √∫koly -->
        <p>≈Ω√°dn√© √∫koly.</p>
        {% endif %}
    </div>
</body>

</html>